import{_ as v,d as g,y as A,o as r,c as l,a as n,t as d,a0 as c,z as u,w as $,h as B,a7 as L,i as N,E as h,F as C,b as E,A as q,e as I}from"./index-7d3f2326.js";import{B as U}from"./BackIcon-029df9cf.js";import{q as V,a as H,b as O}from"./address-a18565c1.js";import{u as T}from"./useSelectAddress-cd186f38.js";import{u as F}from"./useLoading-dafb2f20.js";const M={class:"text-left"},P={class:"flex items-center"},j={class:"text-lg"},z={key:0,class:"text-xs bg-primary rounded-full text-white px-1 py-0.5 ml-1"},J={class:"mt-1"},R={class:"flex-center"},G=g({props:{address:{type:null,required:!0}},emits:["handleDel","handleEdit","handleSetDefault","select"],setup(s,{emit:a}){return(i,t)=>{const o=A("van-icon");return r(),l("div",{class:"bg-white py-2.5 pl-3 pr-5 rounded-lg flex justify-between items-center",onClick:t[3]||(t[3]=c(()=>a("select",s.address),["stop"]))},[n("div",M,[n("div",P,[n("div",j,d(s.address.userName)+"\xA0"+d(s.address.telNumber),1),s.address.isDefault===1?(r(),l("div",z,d(i.$t("common.default")),1)):(r(),l("div",{key:1,type:"primary",class:"text-xs border border-solid border-primary rounded-full text-primary px-1 py-0.5 ml-1",onClick:t[0]||(t[0]=c(()=>a("handleSetDefault",s.address),["stop"]))},d(i.$t("common.setDefault")),1))]),n("div",J,d(`${s.address.provinceName}${s.address.cityName}${s.address.countyName}${s.address.detailInfo}`),1)]),n("div",R,[u(o,{name:"edit",class:"text-xl",onClick:t[1]||(t[1]=c(()=>a("handleEdit",s.address),["stop"]))}),u(o,{name:"delete",class:"text-xl ml-3 text-red-400",onClick:t[2]||(t[2]=c(()=>a("handleDel",s.address),["stop"]))})])])}}}),K=v(G,[["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/address/components/AddressBox.vue"]]);const Q={class:"p-2.5 relative text-center"},W={class:"flex-start"},X=g({setup(s){const a=$(),{setAddress:i}=T(),{loadingToggle:t}=F(),o=B([]),f=L(a),_=e=>{f.indexOf("submitOrder")>=0&&(i(e),a.push(f))},m=async()=>{const e=await V();!e.success||(o.value=e.data)},p=e=>{a.push(e)},w=()=>{sessionStorage.removeItem("editAddress"),p("/editAddress")},k=e=>{sessionStorage.setItem("editAddress",JSON.stringify(e)),p("/editAddress")},b=async e=>{!(await H(e.id)).success||m()},D=async e=>{!(await O(e.id)).success||m()};return N(async()=>{t(!0),await m(),t(!1)}),(e,x)=>{const S=A("VanButton");return r(),l("div",Q,[n("header",W,[u(U),h(" "+d(e.$t("common.address")),1)]),(r(!0),l(C,null,E(o.value,y=>(r(),I(K,{address:y,key:y.id,class:"mt-2",onHandleDel:b,onHandleEdit:k,onHandleSetDefault:D,onSelect:_},null,8,["address"]))),128)),u(S,{class:"px-20 btn-orange btn-shadow mt-20",onClick:w},{default:q(()=>[h(d(e.$t("address.addAddress")),1)]),_:1})])}}}),ae=v(X,[["__scopeId","data-v-48d5819b"],["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/address/UserAddressList.vue"]]);export{ae as default};
