import{_ as B,d as T,w as C,h as f,x as w,y as b,c as L,a as o,z as S,k as r,t as h,I as g,e as i,m as c,o as d}from"./index-27cd35bf.js";import{S as $,G as N,F as k}from"./GoodsList-14aac798.js";import{B as P}from"./BackIcon-9938d35a.js";import"./mcoin-logo-601d180b.js";import"./RatioBox-c843bbf0.js";import"./mall-cabfdca6.js";const R={class:"px-3 top-0 right-0 left-0 bg-gray1 min-h-screen absolute z-50 h-full overflow-y-auto"},z={class:"sticky top-0 z-50 bg-gray1"},F={class:"flex-center-bw gap-1 pt-3"},I={class:"mt-4 flex-center-bw mb-3"},V={class:"flex items-center gap-x-6"},E=T({setup(G){const v=C(),l=f(0),n=f(null),u=f(null),e=w({keyword:"",sortType:null,orderBy:null}),y=s=>{l.value===0?(s.saleStatus?(e.sortType=1,e.orderBy=s.saleStatus===1?2:1):s.starStatus?(e.sortType=2,e.orderBy=s.starStatus===1?2:1):(e.sortType=null,e.orderBy=null),n.value.handleSearch()):(s.saleStatus?(e.sortType=1,e.orderBy=s.saleStatus===1?2:1):s.priceStatus?(e.sortType=2,e.orderBy=s.priceStatus===1?2:1):(e.sortType=null,e.orderBy=null),u.value.handleSearch())},m=s=>{l.value=s,l.value===0?n.value&&n.value.handleSearch(e):u.value&&u.value.handleSearch(e)},_=s=>{s.code==="Enter"&&(l.value===0?n.value.handleSearch(e):u.value.handleSearch(e))};return(s,t)=>{const x=b("van-field");return d(),L("div",R,[o("section",z,[o("section",F,[S(P),S(x,{"model-value":r(e).keyword,"onUpdate:model-value":t[0]||(t[0]=a=>r(e).keyword=a),clearable:"",class:"rounded-3xl flex-1",onKeypress:_},null,8,["model-value"]),o("div",{onClick:t[1]||(t[1]=a=>r(v).go(-1))},h(s.$t("common.cancel")),1)]),o("section",I,[o("div",V,[o("div",{class:g(["text-sm text-default rounded-3xl",{active:l.value===0}]),onClick:t[2]||(t[2]=a=>m(0))},h(s.$t("mall.shopName")),3),o("div",{class:g(["text-sm text-default rounded-3xl",{active:l.value===1}]),onClick:t[3]||(t[3]=a=>m(1))},h(s.$t("mall.goodsName")),3)]),l.value===0?(d(),i(k,{key:0,searchTypes:"shop",onChange:y})):c("v-if",!0),l.value===1?(d(),i(k,{key:1,searchTypes:"goods",onChange:y})):c("v-if",!0)])]),l.value===0?(d(),i($,{key:0,searchParam:r(e),ref:(a,p)=>{p.shopListRef=a,n.value=a},onHandleTo:t[4]||(t[4]=a=>r(v).push(a))},null,8,["searchParam"])):c("v-if",!0),l.value===1?(d(),i(N,{key:1,searchParam:r(e),ref:(a,p)=>{p.goodListRef=a,u.value=a},onHandleTo:t[5]||(t[5]=a=>r(v).push(a))},null,8,["searchParam"])):c("v-if",!0)])}}}),A=B(E,[["__scopeId","data-v-5d9e4984"],["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/search/Search.vue"]]);export{A as default};
