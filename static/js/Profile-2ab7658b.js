import{_ as x,d as w,o as s,c as a,a as n,t as h,k as p,l as N,F as g,b as L,I as R,p as V,f as E,v as T,h as $,y as M,z as y,s as P,e as S,m as v,A as D,E as z,i as A,w as G,u as j,x as J}from"./index-27cd35bf.js";import{_ as K,a as Q,L as W,I as X,u as Y}from"./user-94071134.js";import{u as I}from"./index-95f4a229.js";import{a as Z}from"./shop-5c41543a.js";import{u as ee}from"./useLoading-173fb0c3.js";import"./PopHeader-4e976cbf.js";import"./close-384dfae6.js";import"./TokenBalance-290bccb9.js";import"./qrcode.vue.esm-4eff03e6.js";const te=""+new URL("../images/usermask-55d869b2.png",import.meta.url).href;const C=e=>(V("data-v-91ad038c"),e=e(),E(),e),se={class:"relative px-3.5 pt-5"},oe=C(()=>n("img",{src:te,class:"absolute w-full h-auto top-0 left-0"},null,-1)),ne={class:"flex items-center relative"},ae=C(()=>n("img",{src:K,class:"w-[63px] h-[63px] mr-2"},null,-1)),le={class:"text-base font-bold mr-2"},re={class:"bg-white rounded-xl px-2.5 py-1 flex items-center relative"},ie=C(()=>n("img",{class:"w-4 h-4",src:Q},null,-1)),ue={class:"text-xs ml-0.5 font-Audiowide"},ce={class:"w-full bg-linear relative rounded-t-2xl h-[50px] flex-center-bw mt-5"},de=["onClick"],pe=C(()=>n("div",{class:"absolute w-0.5 h-[46px] bg-[#FEC178] left-[50%] top-0.5"},null,-1)),me=w({props:{info:{type:null,required:!0},active:{type:Number,required:!0},tabList:{type:Array,required:!0}},emits:["changeTab"],setup(e,{emit:l}){return I(!1),(t,r)=>(s(),a("div",se,[oe,n("div",ne,[ae,n("div",le,h(p(N)(e.info.address||"")),1),n("div",re,[ie,n("span",ue,"V"+h(e.info.agentLevel||0),1)])]),n("div",ce,[(s(!0),a(g,null,L(e.tabList,c=>(s(),a("div",{class:R(["flex-1 text-center text-base text-[#FFE7BE]",{"text-white tabactive":e.active===c.id}]),onClick:()=>l("changeTab",c)},h(c.name),11,de))),256)),pe])]))}}),fe=x(me,[["__scopeId","data-v-91ad038c"],["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/profile/components/UserHeader.vue"]]),he={class:"p-2"},_e={class:"flex items-center opacity-50 text-xs"},ve={class:"flex items-center justify-around text-center px-2"},ye=["onClick"],xe=["src"],we={class:"mt-1"},ge=w({props:{type:{type:Number,required:!1}},emits:["handleTo"],setup(e,{emit:l}){const t=e,{t:r}=T(),c=$([{id:0,text:r("order.wait")},{id:1,text:t.type?r("order.already"):r("order.waitRceived")},{id:2,text:r("order.completed")}]),o=d=>{let _=t.type?"/sellerOrderList":"/buyerOrderList";d.id&&(_+=`?active=${d.id}`),l("handleTo",_)};return(d,_)=>{const k=M("van-icon");return s(),a("div",he,[n("div",{class:"flex-center-bw mb-2.5",onClick:o},[n("div",null,h(d.$t("user.myOrder")),1),n("div",_e,[n("span",null,h(d.$t("user.allOrder")),1),y(k,{name:"arrow"})])]),n("div",ve,[(s(!0),a(g,null,L(c.value,(i,m)=>(s(),a("div",{key:i.id,onClick:f=>o(i)},[n("img",{src:p(P)(`order/icon-${m}.svg`),class:"w-6 h-6 mx-auto"},null,8,xe),n("div",we,h(i.text),1)],8,ye))),128))])])}}}),H=x(ge,[["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/profile/components/MyOrder.vue"]]),ke={class:"bg-white shadow shadow-[#F2F2F2] rounded-xl py-2"},be=w({props:{list:{type:null,required:!0}},emits:["handleMenu"],setup(e,{emit:l}){return(t,r)=>{const c=M("van-cell");return s(),a("div",ke,[(s(!0),a(g,null,L(e.list,o=>(s(),S(c,{title:o.text,"is-link":"",onClick:()=>l("handleMenu",o)},null,8,["title","onClick"]))),256))])}}}),B=x(be,[["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/profile/components/OptionBox.vue"]]),$e=""+new URL("../images/shopApply-b4681c73.png",import.meta.url).href,Se=""+new URL("../images/shopAudit-3089f84e.png",import.meta.url).href;const Ie={key:0,class:"py-10 text-center"},Te={key:0,src:$e,class:"w-[60px] mx-auto"},Ce={key:1,src:Se,class:"w-[60px] mx-auto"},Le={class:"mt-2"},Me={key:0},Ue={key:1},Ae={key:2},He=w({props:{status:{type:Number,required:!0}},emits:["handleTo"],setup(e,{emit:l}){return(t,r)=>{const c=M("VanButton");return e.status!==-2&&e.status!==1?(s(),a("div",Ie,[e.status===-1||e.status===2?(s(),a("img",Te)):v("v-if",!0),e.status===0?(s(),a("img",Ce)):v("v-if",!0),n("div",Le,[e.status===2?(s(),a("span",Me,h(t.$t("shop.failShop")),1)):v("v-if",!0),e.status===-1?(s(),a("span",Ue,h(t.$t("shop.noShop")),1)):v("v-if",!0),e.status===0?(s(),a("span",Ae,h(t.$t("shop.shopAudit")),1)):v("v-if",!0)]),e.status!=0?(s(),S(c,{key:2,class:"btn-orange btn-shadow text-white h-10 w-44 mt-2",onClick:r[0]||(r[0]=()=>l("handleTo","/editShopInfo"))},{default:D(()=>[z(h(t.$t("shop.applyShop")),1)]),_:1})):v("v-if",!0)])):v("v-if",!0)}}}),Be=x(He,[["__scopeId","data-v-6fdd668a"],["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/profile/components/ShopStatus.vue"]]),Fe={key:0},Oe=w({emits:["handleTo","handleMenu"],setup(e,{emit:l}){const{t}=T(),{loadingToggle:r}=ee(),c=$([{text:t("merchant.collectRecord"),type:1,url:"/sellerBill"},{text:t("merchant.editShopInfo"),type:1,url:"/editShopInfo"},{text:t("merchant.manageGoods"),type:1,url:"/shopGoods"},{text:t("merchant.manageCategory"),type:1,url:"/shopCategory"},{text:t("common.applyUp"),type:2,key:"level"}]),o=$(1),[d,_]=I(!0),k=async()=>{const i=await Z();!i.success||(i.data?o.value=i.data.status:o.value=-1)};return A(async()=>{r(!0),await k(),r(!1),_(!1)}),(i,m)=>p(d)?v("v-if",!0):(s(),a(g,{key:0},[o.value==1?(s(),a("div",Fe,[y(H,{type:1,onHandleTo:m[0]||(m[0]=f=>l("handleTo",f))}),y(B,{list:c.value,class:"mt-2.5",onHandleMenu:m[1]||(m[1]=f=>l("handleMenu",f))},null,8,["list"])])):v("v-if",!0),y(Be,{status:o.value,onHandleTo:m[2]||(m[2]=f=>l("handleTo",f))},null,8,["status"])],64))}}),qe=x(Oe,[["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/profile/components/Merchant.vue"]]),Ne=w({emits:["handleTo","handleMenu"],setup(e,{emit:l}){const{t}=T(),r=$([{text:t("user.payRecord"),type:1,url:"/buyerBill"},{text:t("user.pointsDetails"),type:1,url:"/integralDetail"},{text:t("user.manageAddress"),type:1,url:"/userAddress"},{text:t("common.inviteFriend"),type:2,key:"invite"},{text:t("common.applyUp"),type:2,key:"level"}]);return(c,o)=>(s(),a(g,null,[y(H,{onHandleTo:o[0]||(o[0]=d=>l("handleTo",d))}),y(B,{list:r.value,class:"mt-2.5",onHandleMenu:o[1]||(o[1]=d=>l("handleMenu",d))},null,8,["list"])],64))}}),Re=x(Ne,[["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/profile/components/Consumer.vue"]]),Ve={class:"bg-white/80 w-full h-full rounded-t-2xl overflow-hidden p-2.5 relative mt-[-2px]"},Ee=w({setup(e){const{t:l}=T(),t=G(),{accountStore:r}=j(),[c,o]=I(!1),[d,_]=I(!1),k=()=>{o(!1),_(!0)},i=J({userInfo:{address:r.account},tabActive:0,tabList:[{id:0,name:l("common.consumerSide")},{id:1,name:l("common.merchantSide")}]}),m=u=>{i.tabActive=u.id},f=u=>{t.push(u)},U=u=>{if(u.type===1&&u.url)return f(u.url);u.type===2&&(u.key==="invite"&&_(!0),u.key==="level"&&o(!0))},F=async()=>{const u=await Y();!u.success||!u.data||(i.userInfo=u.data)},O=async()=>{await F()};return A(()=>{O()}),(u,b)=>(s(),a(g,null,[y(fe,{info:p(i).userInfo,active:p(i).tabActive,"tab-list":p(i).tabList,onChangeTab:m},null,8,["info","active","tab-list"]),n("div",Ve,[p(i).tabActive<=0?(s(),S(Re,{key:0,onHandleTo:f,onHandleMenu:U})):(s(),S(qe,{key:1,onHandleTo:f,onHandleMenu:U})),y(W,{show:p(c),userInfo:p(i).userInfo,onClose:b[0]||(b[0]=q=>p(o)(!1)),onInvite:k},null,8,["show","userInfo"]),y(X,{show:p(d),onClose:b[1]||(b[1]=q=>p(_)(!1))},null,8,["show"])])],64))}}),Xe=x(Ee,[["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/profile/Profile.vue"]]);export{Xe as default};
