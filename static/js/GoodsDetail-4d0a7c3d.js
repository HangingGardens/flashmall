import{_ as p,d as f,y as m,o as t,e as d,A as h,c,b as k,a as e,t as l,z as _,F as w,m as r,E as G,p as V,f as C,k as R,n as U,V as L,w as N,h as v,i as D}from"./index-7d3f2326.js";import{B as q}from"./BackIcon-029df9cf.js";import{R as F}from"./RatioBox-7013da6a.js";import{b as S}from"./goods-dabc7393.js";import{u as T}from"./useLoading-dafb2f20.js";const j={class:"w-full h-[9.375rem] rounded-2xl object-contain overflow-hidden"},z={class:"pt-5"},P=f({props:{imgs:{type:null,required:!0}},setup(o){return(a,i)=>{const n=m("VanImage"),s=m("van-swipe-item"),x=m("van-swipe");return t(),d(x,{"indicator-color":"#fba923",class:"min-w-full"},{default:h(()=>[(t(!0),c(w,null,k(o.imgs,y=>(t(),d(s,null,{indicator:h(({active:g,total:b})=>[e("div",z,l(g+1)+"/"+l(b),1)]),default:h(()=>[e("div",j,[_(n,{src:y,class:"w-full h-full object-cover"},null,8,["src"])])]),_:2},1024))),256))]),_:1})}}}),E=p(P,[["__scopeId","data-v-f15aee08"],["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/goods/components/GoodsImg.vue"]]),M={class:"bg-gray1 rounded-lg"},O={class:"p-2"},A=f({props:{text:{type:null,required:!0},imgs:{type:null,required:!0}},setup(o){return(a,i)=>{const n=m("VanImage");return t(),c("div",M,[e("div",O,l(o.text),1),o.imgs.length>0?(t(!0),c(w,{key:0},k(o.imgs,s=>(t(),d(n,{src:s,class:"w-full h-auto"},null,8,["src"]))),256)):r("v-if",!0)])}}}),H=p(A,[["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/goods/components/GoodsDesciption.vue"]]),J=""+new URL("../images/shop-f5359f77.svg",import.meta.url).href,K=""+new URL("../images/kefu-db7f46bd.svg",import.meta.url).href;const B=o=>(V("data-v-0127c54c"),o=o(),C(),o),Q={class:"fixed bottom-0 left-0 w-full px-2.5 safe-bottom sm:bottom-[5%] lg:bottom-[10%] z-20 flex-center"},W={class:"w-full h-14 flex items-center justify-between pb-0.5 px-2 bg-white rounded-full sm:w-[355px] shadow-2"},X={class:"grid grid-cols-3 gap-4 items-center flex-1"},Y=B(()=>e("img",{src:J,class:"w-5 h-5 m-auto mb-0.5"},null,-1)),Z=B(()=>e("img",{src:K,class:"w-5 h-5 m-auto mb-0.5"},null,-1)),ee={class:"flex"},se=f({emits:["handeToShop","handleConnect","handleBuy"],setup(o,{emit:a}){return(i,n)=>{const s=m("VanButton");return t(),c("div",Q,[e("div",W,[e("div",X,[e("div",{class:"text-xs text-center",onClick:n[0]||(n[0]=()=>a("handeToShop"))},[Y,e("div",null,l(i.$t("mall.shop")),1)]),e("div",{class:"text-xs text-center",onClick:n[1]||(n[1]=()=>a("handleConnect"))},[Z,e("div",null,l(i.$t("common.service")),1)])]),e("div",ee,[r(` <VanButton class="linear-btn text-sm text-white rounded-l-3xl px-3">{{ $t('common.addCart') }}</VanButton> `),_(s,{class:"bg-primary text-sm text-white rounded-r-3xl px-20",onClick:n[2]||(n[2]=()=>a("handleBuy"))},{default:h(()=>[G(l(i.$t("common.buy")),1)]),_:1})])])])}}}),oe=p(se,[["__scopeId","data-v-0127c54c"],["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/goods/components/GoodsBar.vue"]]),te=""+new URL("../images/online-bfef0837.svg",import.meta.url).href,ae=""+new URL("../images/outline-0cf87e97.svg",import.meta.url).href,ne={class:"bg-[#FFF9F1] rounded-lg p-5"},le={class:"flex items-center"},ie={class:"flex items-baseline"},ce={class:"text-primary text-[30px] mr-2"},re=e("div",null,"MCOIN",-1),de={class:"mt-2 font-semibold"},ue={class:"mt-2 flex items-center"},me=e("img",{src:te,class:"w-6 mr-2"},null,-1),_e=e("img",{src:ae,class:"w-6 mr-2"},null,-1),pe=f({props:{goods:{type:null,required:!0}},setup(o){return(a,i)=>(t(),c("div",ne,[e("div",le,[e("div",ie,[e("div",ce,l(R(U)(o.goods.price||0)),1),re]),_(F,{ratio:o.goods.discountRatio,class:"h-6 ml-2"},null,8,["ratio"])]),e("div",de,l(o.goods.goodsName||""),1),e("div",ue,[o.goods.deliveryType===1?(t(),c(w,{key:0},[me,e("div",null,l(a.$t("common.send")),1)],64)):(t(),c(w,{key:1},[_e,e("div",null,l(a.$t("common.offline")+a.$t("common.Payment")),1)],64))])]))}}),fe=p(pe,[["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/goods/components/GoodsInfo.vue"]]),ge={key:0,class:"relative w-full h-full bg-white px-2.5 safe-bottom-page"},ve={class:"flex items-center justify-between sticky top-0 z-50 bg-white py-2.5"},he={class:"flex items-center flex-wrap"},we={class:"ml-2"},xe=f({setup(o){const{loadingToggle:a}=T(),i=L(),n=N(),s=v(null),x=v(null),y=v([]),g=v(),b=async()=>{const $=i.query.id,u=await S(+$);g.value=u.data.categoryName,s.value=u.data.goods,x.value=u.data.stores,y.value=u.data.goodsList},I=()=>{n.push(`submitOrder?id=${s.value.id}`)};return D(async()=>{a(!0),await b(),a(!1)}),($,u)=>s.value?(t(),c("div",ge,[e("header",ve,[e("div",he,[_(q),e("div",we,l(g.value||""),1)])]),s.value.icons?(t(),d(E,{key:0,imgs:(s.value.icons||"").split(","),class:"mb-2.5"},null,8,["imgs"])):r("v-if",!0),_(fe,{goods:s.value,class:"mb-2.5"},null,8,["goods"]),s.value.goodsDesc||s.value.goodsPic?(t(),d(H,{key:1,text:s.value.goodsDesc,imgs:(s.value.goodsPic||"").split(",")},null,8,["text","imgs"])):r("v-if",!0),+s.value.deliveryType==1?(t(),d(oe,{key:2,onHandleBuy:I})):r("v-if",!0)])):r("v-if",!0)}}),Ie=p(xe,[["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/goods/GoodsDetail.vue"]]);export{Ie as default};
