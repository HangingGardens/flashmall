import{_ as T,d as B,v as S,h as n,y as h,o as r,c as f,a as t,z as g,t as s,k as m,l as N,S as z,F as V,b as I,e as w,a0 as C,M as G,A as b,E as j,a5 as A,m as E,p as F,f as P,x as H,V as J,i as K}from"./index-27cd35bf.js";import{B as Q}from"./BackIcon-9938d35a.js";import{G as W}from"./GoodsItem-97075a18.js";import{o as X}from"./order-ebc8cfc6.js";import"./mcoin-logo-601d180b.js";const Y=""+new URL("../images/copy-369bcf49.svg",import.meta.url).href;const Z=e=>(F("data-v-a8a0cc40"),e=e(),P(),e),ee={class:"flex-center-bw gap-2"},te={class:"w-8 h-8"},se={class:"flex-1 text-default h-8 flex flex-col justify-center"},ae={class:"text-sm flex-center-bw font-semibold"},oe={class:"text-primary"},re={class:"text-xs opacity-60"},de={class:"text-default text-sm"},le={class:"flex-center-bw"},ne={key:0,class:"opacity-60"},ie={key:1,class:"opacity-60"},ce={class:"flex-center-bw mt-2"},ue={class:"opacity-60"},ve=Z(()=>t("img",{src:Y,class:"w-4 h-4",alt:""},null,-1)),me={class:"text-base text-black font-semibold mt-2"},fe={class:"text-sm text-default opacity-60 mt-1"},he={class:"flex justify-end mt-3"},_e=B({props:{order:{type:null,required:!0}},setup(e){const{t:d}=S(),c=n({"-1":d("order.all"),0:d("order.waitPay"),1:d("order.wait"),2:d("order.already"),3:d("order.close")});return(i,l)=>{const u=h("VanImage"),v=h("VanButton");return r(),f("div",{class:"rounded-xl px-5 py-7 bg-white mt-3",onClick:l[2]||(l[2]=a=>m(A)(`/sellerOrderDetail?id=${e.order.id}`))},[t("div",ee,[t("div",te,[g(u,{src:e.order.stores.logo,class:"w-full h-full",alt:""},null,8,["src"])]),t("div",se,[t("div",ae,[t("div",null,s(m(N)(e.order.userAddress.address,"...",5,5)),1),t("div",oe,s(c.value[e.order.status+""]),1)]),t("div",re,s(m(z)(e.order.createTime))+" "+s(i.$t("order.buied")),1)])]),(r(!0),f(V,null,I(e.order.orderGoods,a=>(r(),w(W,{key:a.goodsName,goods:a},null,8,["goods"]))),128)),t("div",de,[t("div",le,[t("div",null,s(i.$t("order.remark")),1),e.order.postscript?(r(),f("div",ie,s(e.order.postscript),1)):(r(),f("div",ne,s(i.$t("order.noRemark")),1))]),t("div",ce,[t("div",null,s(i.$t("order.hash")),1),t("div",{class:"flex-start gap-1",onClick:l[0]||(l[0]=C(a=>m(G)(e.order.hash),["stop"]))},[t("span",ue,s(m(N)(e.order.hash,"...",5,5)),1),ve])])]),t("div",me,s(e.order.userAddress.provinceName)+s(e.order.userAddress.cityName)+s(e.order.userAddress.countyName)+s(e.order.userAddress.detailInfo),1),t("div",fe,s(e.order.userAddress.userName)+" "+s(e.order.userAddress.telNumber),1),t("div",he,[e.order.status===1?(r(),w(v,{key:0,class:"btn-orange h-[37px] px-9 text-white text-sm font-semibold",onClick:l[1]||(l[1]=C(a=>m(A)(`/orderDelivery?id=${e.order.id}`),["stop"]))},{default:b(()=>[j(s(i.$t("order.deliver")),1)]),_:1})):E("v-if",!0)])])}}}),pe=T(_e,[["__scopeId","data-v-a8a0cc40"],["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/order/components/DeliveredItem.vue"]]);const ye={class:"px-3 bg-[#f2f0ef]"},xe={class:"flex-start gap-2 mt-2"},ge=B({setup(e){const{t:d}=S(),c=n(0),i=H({tabList:[{id:1,name:d("order.wait")},{id:2,name:d("order.already")},{id:-1,name:d("order.all")}]}),l=J();l.query.active&&(c.value=Number(l.query.active));const u=n([]),v=n(!1),a=n(!1),_=n(0),D=n(10),L=n(0),k=async()=>{v.value=!0,_.value+=1,await U(),v.value=!1},$=n([]),U=async()=>{const o=await X({page:_.value,size:D.value,status:i.tabList[c.value].id,type:1});if(v.value=!1,!o.success){a.value=!0;return}if(!o.data||!o.total){a.value=!0;return}L.value=o.total,$.value=o.data,u.value=_.value===1?$.value:u.value.concat($.value),u.value.length>=L.value&&(a.value=!0)},M=o=>{c.value=o,_.value=0,a.value=!1,u.value=[],k()};return K(()=>{k()}),(o,p)=>{const O=h("VanList"),R=h("VanTab"),q=h("VanTabs");return r(),f("div",ye,[t("div",xe,[g(Q),t("div",null,s(o.$t("order.order")),1)]),g(q,{active:c.value,"onUpdate:active":p[1]||(p[1]=y=>c.value=y),onChange:M,background:"#f2f0ef",sticky:""},{default:b(()=>[(r(!0),f(V,null,I(m(i).tabList,y=>(r(),w(R,{title:y.name,key:y.id},{default:b(()=>[g(O,{loading:v.value,"onUpdate:loading":p[0]||(p[0]=x=>v.value=x),finished:a.value,"finished-text":o.$t("common.noMore"),"loading-text":o.$t("common.loading"),onLoad:k},{default:b(()=>[(r(!0),f(V,null,I(u.value,x=>(r(),w(pe,{key:x.id,order:x},null,8,["order"]))),128))]),_:1},8,["loading","finished","finished-text","loading-text"])]),_:2},1032,["title"]))),128))]),_:1},8,["active"])])}}}),Ie=T(ge,[["__scopeId","data-v-32f0011b"],["__file","/Users/wangkeai/work/xueyan/flashmall/flashmall-dapp/src/view/order/SellerOrderList.vue"]]);export{Ie as default};
